<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>管理</title>
    <script src="../common/import.js"></script>
    <style>
        .el-header {
            /*background-color: #B3C0D1;*/
            /*color: #333;*/
            /*text-align: center;*/
            /*line-height: 60px;*/
        }

        .el-aside {
            /*background-color: #304156;*/
            /*color: #333;*/
            /*text-align: center;*/
            /*line-height: 200px;*/

        }

        .el-main {
            background-color: #E9EEF3;
            /*color: #333;*/
            /*text-align: center;*/
            /*line-height: 160px;*/
        }

        .main-sidebar {
            height: 100%;
        }

        .main-sidebar:not(.el-menu--collapse) {
            /*width: 100%;*/
            width: 199px;
        }
    </style>

</head>
<body>
<div id="mainApp">
    <el-container style="position:absolute; left:0; top:0; width:100%;height:100%;">
        <el-aside :style="{width : sidebarCollapsed ? '65px' : '200px', transition: sidebarCollapsed ? 'width 0.3s' : 'width 0.45s'}">
            <el-menu :collapse="sidebarCollapsed"
                     class="main-sidebar"
                     default-active="configurations"
                     background-color="#304156"
                     text-color="#bfcbd9"
                     active-text-color="#409EFF">
                <el-menu-item index="configurations">
                    <i class="el-icon-tickets"></i>
                    <span slot="title">配置</span>
                </el-menu-item>
                <el-menu-item index="apps">
                    <i class="el-icon-menu"></i>
                    <span slot="title">应用</span>
                </el-menu-item>
                <el-menu-item index="profiles">
                    <i class="el-icon-upload"></i>
                    <span slot="title">环境</span>
                </el-menu-item>
                <el-menu-item index="managers">
                    <i class="el-icon-view"></i>
                    <span slot="title">管理员</span>
                </el-menu-item>
            </el-menu>

            <!--<el-menu default-active="1-4-1" class="main-sidebar"-->
                     <!--background-color="#304156"-->
                     <!--text-color="#bfcbd9"-->
                     <!--active-text-color="#409EFF"-->
                     <!--:collapse="sidebarCollapsed">-->
                <!--<el-submenu index="1">-->
                    <!--<template slot="title">-->
                        <!--<i class="el-icon-location"></i>-->
                        <!--<span slot="title">导航一</span>-->
                    <!--</template>-->
                    <!--<el-menu-item-group>-->
                        <!--<span slot="title">分组一</span>-->
                        <!--<el-menu-item index="1-1">选项1</el-menu-item>-->
                        <!--<el-menu-item index="1-2">选项2</el-menu-item>-->
                    <!--</el-menu-item-group>-->
                    <!--<el-menu-item-group title="分组2">-->
                        <!--<el-menu-item index="1-3">选项3</el-menu-item>-->
                    <!--</el-menu-item-group>-->
                    <!--<el-submenu index="1-4">-->
                        <!--<span slot="title">选项4</span>-->
                        <!--<el-menu-item index="1-4-1">选项1</el-menu-item>-->
                    <!--</el-submenu>-->
                <!--</el-submenu>-->
                <!--<el-menu-item index="2">-->
                    <!--<i class="el-icon-menu"></i>-->
                    <!--<span slot="title">导航二</span>-->
                <!--</el-menu-item>-->
                <!--<el-menu-item index="3" disabled>-->
                    <!--<i class="el-icon-document"></i>-->
                    <!--<span slot="title">导航三</span>-->
                <!--</el-menu-item>-->
                <!--<el-menu-item index="4">-->
                    <!--<i class="el-icon-setting"></i>-->
                    <!--<span slot="title">导航四</span>-->
                <!--</el-menu-item>-->
            <!--</el-menu>-->
        </el-aside>
        <el-container>
            <el-header style="padding: 0px 10px;">
                <div style="float: left;line-height: 58px;">
                    <svg @click="sidebarCollapsed = !sidebarCollapsed" p-id="1691" t="1492500959545" :style="{display: 'inline-block',cursor: 'pointer',width: '20px',height: '20px',transform: sidebarCollapsed ? 'rotate(90deg)' : 'rotate(0deg)',transition: '.38s','transform-origin': '50% 50%'}" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" version="1.1">
                        <path p-id="1692" d="M966.8023 568.849776 57.196677 568.849776c-31.397081 0-56.850799-25.452695-56.850799-56.850799l0 0c0-31.397081 25.452695-56.849776 56.850799-56.849776l909.605623 0c31.397081 0 56.849776 25.452695 56.849776 56.849776l0 0C1023.653099 543.397081 998.200404 568.849776 966.8023 568.849776z"></path>
                        <path p-id="1693" d="M966.8023 881.527125 57.196677 881.527125c-31.397081 0-56.850799-25.452695-56.850799-56.849776l0 0c0-31.397081 25.452695-56.849776 56.850799-56.849776l909.605623 0c31.397081 0 56.849776 25.452695 56.849776 56.849776l0 0C1023.653099 856.07443 998.200404 881.527125 966.8023 881.527125z"></path>
                        <path p-id="1694" d="M966.8023 256.17345 57.196677 256.17345c-31.397081 0-56.850799-25.452695-56.850799-56.849776l0 0c0-31.397081 25.452695-56.850799 56.850799-56.850799l909.605623 0c31.397081 0 56.849776 25.452695 56.849776 56.850799l0 0C1023.653099 230.720755 998.200404 256.17345 966.8023 256.17345z"></path>
                    </svg>
                </div>
                <el-breadcrumb style="display: inline-block;margin-left: 20px;line-height: 50px;">
                    <el-breadcrumb-item :to="{ path: '/' }">首页</el-breadcrumb-item>
                    <el-breadcrumb-item><a href="/">活动管理</a></el-breadcrumb-item>
                    <el-breadcrumb-item>活动列表</el-breadcrumb-item>
                    <el-breadcrumb-item>活动详情</el-breadcrumb-item>
                </el-breadcrumb>
                <el-dropdown trigger="click" style="cursor: pointer;position: absolute;right: 30px;line-height: 50px;">
                    <span>
                    钟勋<i class="el-icon-caret-bottom el-icon--right"></i>
                    </span>
                    <el-dropdown-menu slot="dropdown">
                        <el-dropdown-item>修改信息</el-dropdown-item>
                        <el-dropdown-item>退出</el-dropdown-item>
                    </el-dropdown-menu>
                </el-dropdown>
            </el-header>
            <el-main>
                main
            </el-main>
        </el-container>
    </el-container>


    <!--<el-container>-->
    <!--<el-header>-->

    <!--<el-dropdown @command="handleCommand">-->
    <!--<span>{{ manager.name }}<i class="el-icon-arrow-down el-icon&#45;&#45;right"></i></span>-->
    <!--<el-dropdown-menu slot="dropdown">-->
    <!--<el-dropdown-item command="showProfile">我的信息</el-dropdown-item>-->
    <!--<el-dropdown-item command="logout">退出</el-dropdown-item>-->
    <!--</el-dropdown-menu>-->
    <!--</el-dropdown>-->

    <!--</el-header>-->
    <!--<el-main>-->
    <!--<el-container>-->
    <!--<el-aside>-->
    <!--<el-menu background-color="#545c64"-->
    <!--text-color="#fff"-->
    <!--active-text-color="#ffd04b">-->
    <!--<el-menu-item index="home">首页</el-menu-item>-->
    <!--<el-menu-item index="apps">应用</el-menu-item>-->
    <!--<el-menu-item index="profiles">环境</el-menu-item>-->
    <!--<el-menu-item index="managers">管理员</el-menu-item>-->
    <!--<el-menu-item index="relations">关联</el-menu-item>-->
    <!--</el-menu>-->
    <!--</el-aside>-->
    <!--<el-main></el-main>-->
    <!--</el-container>-->
    <!--</el-main>-->
    <!--</el-container>-->
</div>
<script>
    // 判断用户是否已登录
    axios.get('../manager/main/current')
        .then(function (result) {
            if (!result.success) {
                Vue.prototype.$message.error(result.message);
                return;
            }
            if (result.manager === null) {
                // 未登录，则跳转到登录页面
                Vue.prototype.$alert('未登录或登录已超时，请进行登录', '警告', {
                    callback: function () {
                        window.location.href = 'login.html';
                    }
                });
                return;
            }
//            mainApp.manager = Object.assign({}, mainApp.manager, result.manager);
        });

    var mainApp = new Vue({
        el: '#mainApp',
        data: {
            sidebarCollapsed: false
        }
    });

    //    var mainApp = new Vue({
    //        el: '#mainApp',
    //        data: {
    //            manager: {}
    //        },
    //        methods: {
    //            handleCommand: function (command) {
    //                switch (command) {
    //                    case 'showProfile':
    //                        this.showProfile();
    //                        break;
    //                    case 'logout':
    //                        this.logout();
    //                        break;
    //                }
    //            },
    //            showProfile: function () {
    //
    //            },
    //            logout: function () {
    //                axios.get('../manager/main/logout')
    //                    .then(function (result) {
    //                        if (!result.success) {
    //                            Vue.prototype.$message.error(result.message);
    //                            return;
    //                        }
    //                        window.location.href = 'login.html';
    //                    });
    //            }
    //        }
    //    });
</script>
</body>
</html>